<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Pes: Pes\Repository Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Pes
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('namespace_pes_1_1_repository.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a>  </div>
  <div class="headertitle">
<div class="title">Pes\Repository Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_pes_1_1_repository_1_1_findable_repository_interface.html">FindableRepositoryInterface</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pes_1_1_repository_1_1_map_repository.html">MapRepository</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_pes_1_1_repository_1_1_map_repository_interface.html">MapRepositoryInterface</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_pes_1_1_repository_1_1_repository_interface.html">RepositoryInterface</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_pes_1_1_repository_1_1_set_repository_interface.html">SetRepositoryInterface</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>pes2704</dd></dl>
<p><a class="el" href="namespace_pes_1_1_repository.html">Repository</a> slouží jako sklad objektů.</p>
<p>Eric Evans DDD: Agregát je "shluk" (cluster) objektů, který používáme jako nedělitelnou jednotku pro změny dat. Každý agregát má kořen a rozsah. Rozsah definuje co se nechází uvnitř, v agregátu. Kořen je jedinečný, specifický objekt z agregátu. Kořen je jediný objekt z agregátu, na který je možno odkazovat z nějakého vnějšího objektu, tedy jediný objekt na který může nějaký objekt mimo agregát držet referenci. Kořen agregátu jediným objektem, který je vracen metodami repository.</p>
<p>Svoboda: Protože kořen je jedinečný jedná se tedy o entitu. Referencí na agregát je jeho kořen, z toho vyplývá, že agregát je strom. Strom agregátu je definován kořenem a rozsahem. Jedná se o částečný podstrom domény, kořen agregátu je kořenem podstromu, ale nejedná se o celý podstrom, tento podstorm má jen hloubku definovanou rozsahem. To, který uzel stromu objektů celé domény bude kořenem agregátu a to, jaký bude rozsah agregátu je dáno požadavky na změny dat objektů v agregátu s ohledem na nutné zachování konzistence dat. Agregát obsahuje jen objekty od kořene agregátu po danou hloubku stromu agregátu a jenom tyto objekty mohou být dotčeny změnou dat. Úplný agregát obsahuje všechny existující objekty, členy agregátu ve stávající doméně. Pokud aplikuji ještě výběrové kritérium, získám podagregát, ten obsahuje jen vybrabé větve agregátu a získám ho prohledáváním do šířky. Kořen agregátu je jedinou referencí agregátu a tak pouze průchodem agregátu od kořene mohu měnit data členů agregátu, jinak poškodím konzistenci dat. Proto je kořen agregátu jediným objektem, který je vracen metodami repository. Samozřejmě reository může vracet jeden kořen nebo kolekci kořenů. Rozsah agregátu: Evans:</p><ul>
<li>Kořen <a class="el" href="namespace_pes_1_1_entity.html">Entity</a> má globální identitu a je zodpovědný za kontrolu invariant</li>
<li>Kořenové <a class="el" href="namespace_pes_1_1_entity.html">Entity</a> mají globální identitu. <a class="el" href="namespace_pes_1_1_entity.html">Entity</a> uvnitř rozsahu mají místní identitu, unikátní pouze v rámci agregátu.</li>
<li>Nic mimo rozsah agregátu nemůže obsahovat odkaz na něco uvnitř agragátu, s výjimkou odkazu na kořenovou entitu. Kořenová entita může předávat (ven) odkazy vnitřních entit na jiné objekty, ale je možné je použít pouze přechodně (v rámci jedné metody nebo bloku).</li>
<li>Pouze kořen agregátu lze získat přímo pomocí databázových dotazů. Všechno ostatní musí být provedeno pomocí traverzování.</li>
<li>Objekty uvnitř agregátu mohou obsahovat odkazy na kořeny jiných agregátů.</li>
<li>Operace delete musí odebrat vše v rámci rozsahu agregátu najednou.</li>
<li>Je-li provedena změna jakéhokoliv objektu v rámci agregátu, musí být zachovány všechny invarianty celého agregátu.</li>
</ul>
<p><a class="el" href="namespace_pes_1_1_repository.html">Repository</a> se navenek tváří, jakoby všechny objekty obsahovala. Pokud jsou členské objekty agregátu persistable objekty - to obvykle ano - jsou tyto objekty ve skutečnosti na pozadí načítány a ukládány do nějakého úložiště.</p>
<p>Pro načítání, a ukládání dat repository vnitřně pracuje s další vrstvou modelu - pro jednotlivé členy agregátu používá nějaké DAO. ???: Můžu repository použít jako vnořené - to jest pro kořenovou entitu použiji její DAO (např. řádkový objekt db tabulky) a pro potomkovské členy agregátu použiji jejich repository - pochopitelně, pokud má smysl, aby existovalo - a volám metodu itemRepository-&gt;find().</p>
<p>Příklad: Mám firmy, k firmě faktury (1:N), k faktuře položky (1:N). Protže někdy potřebuji pracovat i s položkami - například chci najít všechny položky faktur, které obsahují cosi - tak už mám repository pro položku. Potom by repository pro fakturu mohlo pro přístup k datům faktury používat DAO faktury (pro přístup k řádkovým objektům db tabulky faktura) a pro přístup k datům položek již existující repository pro položky.</p>
<p><a class="el" href="namespace_pes_1_1_repository.html">Repository</a> "hovoří" jazykem domény. Například má repository pro faktury metodu vracející neuhrazené faktury findOutstanding(). To je jazyk domény, DAO neznají nic takového jako je "neuhrazené". </p><dl class="section author"><dt>Author</dt><dd>pes2704 </dd></dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>Pes</b></li><li class="navelem"><a class="el" href="namespace_pes_1_1_repository.html">Repository</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
