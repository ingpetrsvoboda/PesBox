\hypertarget{class_pes_1_1_session_1_1_session_status_handler}{}\section{Session\+Status\+Handler Class Reference}
\label{class_pes_1_1_session_1_1_session_status_handler}\index{Session\+Status\+Handler@{Session\+Status\+Handler}}
Inheritance diagram for Session\+Status\+Handler\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_pes_1_1_session_1_1_session_status_handler}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_pes_1_1_session_1_1_session_status_handler_a77699dabe8607f31e083c19fb1063a15}{\+\_\+\+\_\+construct}} ( \$session\+Name=self\+::\+S\+E\+S\+S\+I\+O\+N\+\_\+\+N\+A\+ME, \textbackslash{}Session\+Handler\+Interface \$session\+Save\+Handler=N\+U\+LL, \$fingerprint\+Based\+Autodestuction=T\+R\+UE, \$lock\+To\+User\+Agent=T\+R\+UE, \$lock\+To\+Ip=F\+A\+L\+SE, array \$session\+Cookie\+Params=\mbox{[}$\,$\mbox{]}, \$session\+Id\+Durability=5, \$manual\+Start\+Stop=F\+A\+L\+SE)
\item 
\mbox{\hyperlink{class_pes_1_1_session_1_1_session_status_handler_a7a2d485c1a1c3c6454a6ca583beefee6}{session\+Finish}} ()
\item 
\mbox{\hyperlink{class_pes_1_1_session_1_1_session_status_handler_a5fd46320a3fc88f4322cbb025eab7cba}{forget}} ()
\item 
\mbox{\hyperlink{class_pes_1_1_session_1_1_session_status_handler_a2aff0844db6d9b56e6ba96123e1dd11c}{refresh}} ()
\item 
\mbox{\hyperlink{class_pes_1_1_session_1_1_session_status_handler_ad5305cbf1b1f253e8bef4b2c478dacb0}{is\+New}} ()
\item 
\mbox{\hyperlink{class_pes_1_1_session_1_1_session_status_handler_a8af92ba90a86c8c4abaf02cc314440f1}{get\+Creation\+Time}} ()
\item 
\mbox{\hyperlink{class_pes_1_1_session_1_1_session_status_handler_a0a413f841ff7f4681218eebe9acc847f}{get\+Last\+Start\+Time}} ()
\item 
\mbox{\hyperlink{class_pes_1_1_session_1_1_session_status_handler_a2ac1590473377275979c720110f5cfed}{get\+Current\+Start\+Time}} ()
\item 
\mbox{\hyperlink{class_pes_1_1_session_1_1_session_status_handler_aa053bd6719cc91c4fa951aa9266748aa}{has\+Fingerprint}} ()
\item 
\mbox{\hyperlink{class_pes_1_1_session_1_1_session_status_handler_af5ea6a083ddb07beb8a30dd32e309ceb}{get}} (\$name)
\item 
\mbox{\hyperlink{class_pes_1_1_session_1_1_session_status_handler_aa4c6a0b87c6e47fa6f863eedb300e707}{set}} (\$name, \$value)
\item 
\mbox{\hyperlink{class_pes_1_1_session_1_1_session_status_handler_af7c3ea3150164bc92700134803f277be}{delete}} (\$name)
\item 
\mbox{\hyperlink{class_pes_1_1_session_1_1_session_status_handler_a9c9bae4e44ee76a926fa7ecdc49dd8b5}{get\+Array\+Copy}} ()
\item 
\mbox{\Hypertarget{class_pes_1_1_session_1_1_session_status_handler_a74471f9981ad06ab0eb6be1acf0c9e71}\label{class_pes_1_1_session_1_1_session_status_handler_a74471f9981ad06ab0eb6be1acf0c9e71}} 
{\bfseries get\+Fragment\+Array\+Copy} (\$name)
\end{DoxyCompactItemize}
\subsection*{Data Fields}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_pes_1_1_session_1_1_session_status_handler_ac15063c1be0036865bc582b411fe04de}\label{class_pes_1_1_session_1_1_session_status_handler_ac15063c1be0036865bc582b411fe04de}} 
const {\bfseries S\+E\+S\+S\+I\+O\+N\+\_\+\+N\+A\+ME} = \textquotesingle{}P\+E\+S\+\_\+\+S\+E\+S\+S\+I\+ON\textquotesingle{}
\item 
\mbox{\Hypertarget{class_pes_1_1_session_1_1_session_status_handler_a9f1ea8a323c471df2f6438e9081d08ae}\label{class_pes_1_1_session_1_1_session_status_handler_a9f1ea8a323c471df2f6438e9081d08ae}} 
const {\bfseries F\+R\+A\+G\+M\+E\+N\+T\+\_\+\+S\+E\+P\+A\+R\+A\+T\+OR} = \textquotesingle{}.\textquotesingle{}
\item 
\mbox{\Hypertarget{class_pes_1_1_session_1_1_session_status_handler_a1fab1284c87bdbacb4497be1c85e5414}\label{class_pes_1_1_session_1_1_session_status_handler_a1fab1284c87bdbacb4497be1c85e5414}} 
const {\bfseries H\+A\+N\+D\+L\+E\+R\+\_\+\+V\+A\+RS} = \textquotesingle{}\+\_\+\+\_\+session\+\_\+handler\+\_\+vars\textquotesingle{}
\item 
\mbox{\Hypertarget{class_pes_1_1_session_1_1_session_status_handler_a149075b94804d4b494d65bf197f28c87}\label{class_pes_1_1_session_1_1_session_status_handler_a149075b94804d4b494d65bf197f28c87}} 
const {\bfseries C\+R\+E\+A\+T\+I\+O\+N\+\_\+\+T\+I\+ME} = \textquotesingle{}creation\+\_\+time\textquotesingle{}
\item 
\mbox{\Hypertarget{class_pes_1_1_session_1_1_session_status_handler_a5912a69ccda99af08ab1425e90ee2307}\label{class_pes_1_1_session_1_1_session_status_handler_a5912a69ccda99af08ab1425e90ee2307}} 
const {\bfseries P\+R\+E\+V\+I\+O\+U\+S\+\_\+\+S\+T\+A\+R\+T\+\_\+\+T\+I\+ME} = \textquotesingle{}previous\+\_\+start\+\_\+time\textquotesingle{}
\item 
\mbox{\Hypertarget{class_pes_1_1_session_1_1_session_status_handler_aaf827968ffe1aeea6bafb36d8e72a40e}\label{class_pes_1_1_session_1_1_session_status_handler_aaf827968ffe1aeea6bafb36d8e72a40e}} 
const {\bfseries C\+U\+R\+R\+E\+N\+T\+\_\+\+S\+T\+A\+R\+T\+\_\+\+T\+I\+ME} = \textquotesingle{}current\+\_\+start\+\_\+time\textquotesingle{}
\item 
\mbox{\Hypertarget{class_pes_1_1_session_1_1_session_status_handler_a8dbc36b4e10d14fc0f40a11312fedc79}\label{class_pes_1_1_session_1_1_session_status_handler_a8dbc36b4e10d14fc0f40a11312fedc79}} 
const {\bfseries F\+I\+N\+G\+E\+R\+P\+R\+I\+NT} = \textquotesingle{}fingerprint\textquotesingle{}
\item 
\mbox{\Hypertarget{class_pes_1_1_session_1_1_session_status_handler_ad481b88c81cf2b59145669c5af73e063}\label{class_pes_1_1_session_1_1_session_status_handler_ad481b88c81cf2b59145669c5af73e063}} 
const {\bfseries I\+S\+\_\+\+N\+EW} = \textquotesingle{}is\+\_\+new\textquotesingle{}
\item 
\mbox{\Hypertarget{class_pes_1_1_session_1_1_session_status_handler_a999573eaf9617287277411e52a9229f9}\label{class_pes_1_1_session_1_1_session_status_handler_a999573eaf9617287277411e52a9229f9}} 
const {\bfseries I\+P\+\_\+\+M\+A\+SK} = \textquotesingle{}255.\+255.\+0.\+0\textquotesingle{}
\item 
\mbox{\Hypertarget{class_pes_1_1_session_1_1_session_status_handler_a55ab6df953b8422343db1daab29e1069}\label{class_pes_1_1_session_1_1_session_status_handler_a55ab6df953b8422343db1daab29e1069}} 
{\bfseries \$fingerprint\+Based\+Autodestuction}
\item 
\mbox{\Hypertarget{class_pes_1_1_session_1_1_session_status_handler_af9f493bfa1902bd6be089e5cb54f46f0}\label{class_pes_1_1_session_1_1_session_status_handler_af9f493bfa1902bd6be089e5cb54f46f0}} 
{\bfseries \$lock\+To\+User\+Agent}
\item 
\mbox{\Hypertarget{class_pes_1_1_session_1_1_session_status_handler_ac40fd92db6e1987994426f569318727e}\label{class_pes_1_1_session_1_1_session_status_handler_ac40fd92db6e1987994426f569318727e}} 
{\bfseries \$lock\+To\+Ip}
\item 
\mbox{\Hypertarget{class_pes_1_1_session_1_1_session_status_handler_a90d05497e073a8207b96a52a5bc52f5b}\label{class_pes_1_1_session_1_1_session_status_handler_a90d05497e073a8207b96a52a5bc52f5b}} 
{\bfseries \$session\+Cookie\+Params}
\item 
\mbox{\Hypertarget{class_pes_1_1_session_1_1_session_status_handler_a6fafdb549cd473937302d62ca2883208}\label{class_pes_1_1_session_1_1_session_status_handler_a6fafdb549cd473937302d62ca2883208}} 
{\bfseries \$session\+Id\+Durability}
\item 
\mbox{\Hypertarget{class_pes_1_1_session_1_1_session_status_handler_ace5c8f61b1843caccab31801522fb04c}\label{class_pes_1_1_session_1_1_session_status_handler_ace5c8f61b1843caccab31801522fb04c}} 
{\bfseries \$manual\+Start\+Stop}
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_pes_1_1_session_1_1_session_status_handler_a3ea6a2c27100f1c8c69a245e16b107e6}{session\+Start}} ()
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\mbox{\hyperlink{class_pes_1_1_session_1_1_session_status_handler}{Session\+Status\+Handler}} 

\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_pes_1_1_session_1_1_session_status_handler_a77699dabe8607f31e083c19fb1063a15}\label{class_pes_1_1_session_1_1_session_status_handler_a77699dabe8607f31e083c19fb1063a15}} 
\index{Pes\+::\+Session\+::\+Session\+Status\+Handler@{Pes\+::\+Session\+::\+Session\+Status\+Handler}!\+\_\+\+\_\+construct@{\+\_\+\+\_\+construct}}
\index{\+\_\+\+\_\+construct@{\+\_\+\+\_\+construct}!Pes\+::\+Session\+::\+Session\+Status\+Handler@{Pes\+::\+Session\+::\+Session\+Status\+Handler}}
\subsubsection{\texorpdfstring{\+\_\+\+\_\+construct()}{\_\_construct()}}
{\footnotesize\ttfamily \+\_\+\+\_\+construct (\begin{DoxyParamCaption}\item[{}]{\$session\+Name = {\ttfamily self\+:\+:SESSION\+\_\+NAME},  }\item[{\textbackslash{}Session\+Handler\+Interface}]{\$session\+Save\+Handler = {\ttfamily NULL},  }\item[{}]{\$fingerprint\+Based\+Autodestuction = {\ttfamily TRUE},  }\item[{}]{\$lock\+To\+User\+Agent = {\ttfamily TRUE},  }\item[{}]{\$lock\+To\+Ip = {\ttfamily FALSE},  }\item[{array}]{\$session\+Cookie\+Params = {\ttfamily \mbox{[}\mbox{]}},  }\item[{}]{\$session\+Id\+Durability = {\ttfamily 5},  }\item[{}]{\$manual\+Start\+Stop = {\ttfamily FALSE} }\end{DoxyParamCaption})}

Konstruktor

Session data jsou vázána na klientskou aplikaci (prohlížeč) a případně na IP adresu klienta. Vazba na klientskou aplikaci je vazba na signaturu prohlížeče poskytovanou v hlavičce User-\/\+Agent. Vazba na IP adresu je vazba na horní dva byty IP adresy (maska 255.\+255.\+0.\+0), dolní dva byty se mohou měnit libovolně. IP adresa klienta v lokální síti se může měnit často, např. za farmou proxy se může měnit pro každý request. Vazba na horní dva byty IP je kompromis, umožňuje klientům měnit IP adresu v rámci 16ti bitového rozsahu adres.

{\bfseries Default nastavení\+:}

Vazba na klientskou aplikaci = T\+R\+UE

Vazba na IP adresu = F\+A\+L\+SE

Parametry cookie používané pro předávání identifikátoru session\+:
\begin{DoxyItemize}
\item lifetime = 0
\item path = parametr session.\+cookie\+\_\+path ze souboru php.\+ini
\item domain = parametr session.\+cookie\+\_\+domain ze souboru php.\+ini
\item secure = T\+R\+UE, pokud protokol je H\+T\+T\+PS, jinak je F\+A\+L\+SE
\item httponly = T\+R\+UE
\end{DoxyItemize}

Třída vždy použije vlastní nastavení session.\+cookie\+\_\+lifetime, session.\+use\+\_\+cookies, session.\+use\+\_\+only\+\_\+cookies, nepoužíví nastavení zadané v souboru php.\+ini

Nastaveno\+:
\begin{DoxyItemize}
\item session nikdy neexpirují, skutečná session lifetime je dána pouze hodnotou \$this-\/$>$session\+Cookie\+Params\mbox{[}\textquotesingle{}lifetime\textquotesingle{}\mbox{]}\+: ini\+\_\+set(\textquotesingle{}session.\+cookie\+\_\+lifetime\textquotesingle{}, 0);
\item session nebude viditelná pro skripty -\/ obrana proti session ID hijacking\+: ini\+\_\+set(\textquotesingle{}session.\+use\+\_\+cookies\textquotesingle{}, 1);
\item session ID bude předáváno pouze v cookie, nebude nikdy součástí G\+ET parametrů\+: ini\+\_\+set(\textquotesingle{}session.\+use\+\_\+only\+\_\+cookies\textquotesingle{}, 1);
\end{DoxyItemize}


\begin{DoxyParams}[1]{Parameters}
string & {\em \$session\+Name} & Jméno session \\
\hline
\textbackslash{}\+Session\+Handler\+Interface & {\em \$session\+Save\+Handler} & Handler pro čtení a ukládání dat session. Implementuje P\+HP Session\+Handler\+Interface \\
\hline
bool & {\em \$fingerprint\+Based\+Autodestuction} & Session bude automaticky zrušena při změně fingerprint. \\
\hline
type & {\em \$lock\+To\+User\+Agent} & Platnost session vázána na klientskou aplikaci (prohlížeč), pro kterou byla nastartována, výchozí hodnota je T\+R\+UE \\
\hline
type & {\em \$lock\+To\+Ip} & Platnost session je vázána na IP adresu klienta, lze použít jen v prostředí se stabilními IP adresami, výchozí hodnota je F\+A\+L\+SE \\
\hline
array & {\em \$session\+Cookie\+Params} & Pole parametrů cookie používané pro předávání identifikátoru session (\textquotesingle{}lifetime\textquotesingle{}, \textquotesingle{}path\textquotesingle{}, \textquotesingle{}domain\textquotesingle{}, \textquotesingle{}secure\textquotesingle{}, \textquotesingle{}httponly\textquotesingle{}). Lze zadat pole obsahující jen některé parametry, změněné proti default hodnotám. \\
\hline
integer & {\em \$session\+Id\+Durability} & Průměrný počet použití session dat bez regenerování identifikátoru session \\
\hline
boolean & {\em \$manual\+Start\+Stop} & Je vyžadováno spuštění a zastavení session voláním metod \mbox{\hyperlink{class_pes_1_1_session_1_1_session_status_handler_a3ea6a2c27100f1c8c69a245e16b107e6}{session\+Start()}} a \mbox{\hyperlink{class_pes_1_1_session_1_1_session_status_handler_a7a2d485c1a1c3c6454a6ca583beefee6}{session\+Finish()}}, defautně F\+A\+L\+SE. \\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em } & \\
\hline
\end{DoxyExceptions}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{class_pes_1_1_session_1_1_session_status_handler_af7c3ea3150164bc92700134803f277be}\label{class_pes_1_1_session_1_1_session_status_handler_af7c3ea3150164bc92700134803f277be}} 
\index{Pes\+::\+Session\+::\+Session\+Status\+Handler@{Pes\+::\+Session\+::\+Session\+Status\+Handler}!delete@{delete}}
\index{delete@{delete}!Pes\+::\+Session\+::\+Session\+Status\+Handler@{Pes\+::\+Session\+::\+Session\+Status\+Handler}}
\subsubsection{\texorpdfstring{delete()}{delete()}}
{\footnotesize\ttfamily delete (\begin{DoxyParamCaption}\item[{}]{\$name }\end{DoxyParamCaption})}

Smaže fragment nebo jednu hodnotu se zadaným jménem.


\begin{DoxyParams}[1]{Parameters}
string & {\em \$name} & Jméno hodnoty (např. user.\+status) nebo jméno fragmentu (npř. user) \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{interface_pes_1_1_session_1_1_session_status_handler_interface}{Session\+Status\+Handler\+Interface}}.

\mbox{\Hypertarget{class_pes_1_1_session_1_1_session_status_handler_a5fd46320a3fc88f4322cbb025eab7cba}\label{class_pes_1_1_session_1_1_session_status_handler_a5fd46320a3fc88f4322cbb025eab7cba}} 
\index{Pes\+::\+Session\+::\+Session\+Status\+Handler@{Pes\+::\+Session\+::\+Session\+Status\+Handler}!forget@{forget}}
\index{forget@{forget}!Pes\+::\+Session\+::\+Session\+Status\+Handler@{Pes\+::\+Session\+::\+Session\+Status\+Handler}}
\subsubsection{\texorpdfstring{forget()}{forget()}}
{\footnotesize\ttfamily forget (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Smaže data ukládaná session handlerem a také cookie používané pro předávání identifikátoru session. \begin{DoxyReturn}{Returns}
boolean 
\end{DoxyReturn}


Implements \mbox{\hyperlink{interface_pes_1_1_session_1_1_session_status_handler_interface}{Session\+Status\+Handler\+Interface}}.

\mbox{\Hypertarget{class_pes_1_1_session_1_1_session_status_handler_af5ea6a083ddb07beb8a30dd32e309ceb}\label{class_pes_1_1_session_1_1_session_status_handler_af5ea6a083ddb07beb8a30dd32e309ceb}} 
\index{Pes\+::\+Session\+::\+Session\+Status\+Handler@{Pes\+::\+Session\+::\+Session\+Status\+Handler}!get@{get}}
\index{get@{get}!Pes\+::\+Session\+::\+Session\+Status\+Handler@{Pes\+::\+Session\+::\+Session\+Status\+Handler}}
\subsubsection{\texorpdfstring{get()}{get()}}
{\footnotesize\ttfamily get (\begin{DoxyParamCaption}\item[{}]{\$name }\end{DoxyParamCaption})}

Vrací hodnotu se zadaným jménem.


\begin{DoxyParams}[1]{Parameters}
string & {\em \$name} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
string 
\end{DoxyReturn}


Implements \mbox{\hyperlink{interface_pes_1_1_session_1_1_session_status_handler_interface}{Session\+Status\+Handler\+Interface}}.

\mbox{\Hypertarget{class_pes_1_1_session_1_1_session_status_handler_a9c9bae4e44ee76a926fa7ecdc49dd8b5}\label{class_pes_1_1_session_1_1_session_status_handler_a9c9bae4e44ee76a926fa7ecdc49dd8b5}} 
\index{Pes\+::\+Session\+::\+Session\+Status\+Handler@{Pes\+::\+Session\+::\+Session\+Status\+Handler}!get\+Array\+Copy@{get\+Array\+Copy}}
\index{get\+Array\+Copy@{get\+Array\+Copy}!Pes\+::\+Session\+::\+Session\+Status\+Handler@{Pes\+::\+Session\+::\+Session\+Status\+Handler}}
\subsubsection{\texorpdfstring{get\+Array\+Copy()}{getArrayCopy()}}
{\footnotesize\ttfamily get\+Array\+Copy (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Vrací kopii pole \$\+\_\+\+S\+E\+S\+S\+I\+ON, pole obsahuje data session ve víceúrovňové (stromové) struktuře. \begin{DoxyReturn}{Returns}
type 
\end{DoxyReturn}


Implements \mbox{\hyperlink{interface_pes_1_1_session_1_1_session_status_handler_interface}{Session\+Status\+Handler\+Interface}}.

\mbox{\Hypertarget{class_pes_1_1_session_1_1_session_status_handler_a8af92ba90a86c8c4abaf02cc314440f1}\label{class_pes_1_1_session_1_1_session_status_handler_a8af92ba90a86c8c4abaf02cc314440f1}} 
\index{Pes\+::\+Session\+::\+Session\+Status\+Handler@{Pes\+::\+Session\+::\+Session\+Status\+Handler}!get\+Creation\+Time@{get\+Creation\+Time}}
\index{get\+Creation\+Time@{get\+Creation\+Time}!Pes\+::\+Session\+::\+Session\+Status\+Handler@{Pes\+::\+Session\+::\+Session\+Status\+Handler}}
\subsubsection{\texorpdfstring{get\+Creation\+Time()}{getCreationTime()}}
{\footnotesize\ttfamily get\+Creation\+Time (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Vrací čas vytvoření (prvního startu) session. Čas je unix timestamp.

\begin{DoxyReturn}{Returns}
int 
\end{DoxyReturn}


Implements \mbox{\hyperlink{interface_pes_1_1_session_1_1_session_status_handler_interface}{Session\+Status\+Handler\+Interface}}.

\mbox{\Hypertarget{class_pes_1_1_session_1_1_session_status_handler_a2ac1590473377275979c720110f5cfed}\label{class_pes_1_1_session_1_1_session_status_handler_a2ac1590473377275979c720110f5cfed}} 
\index{Pes\+::\+Session\+::\+Session\+Status\+Handler@{Pes\+::\+Session\+::\+Session\+Status\+Handler}!get\+Current\+Start\+Time@{get\+Current\+Start\+Time}}
\index{get\+Current\+Start\+Time@{get\+Current\+Start\+Time}!Pes\+::\+Session\+::\+Session\+Status\+Handler@{Pes\+::\+Session\+::\+Session\+Status\+Handler}}
\subsubsection{\texorpdfstring{get\+Current\+Start\+Time()}{getCurrentStartTime()}}
{\footnotesize\ttfamily get\+Current\+Start\+Time (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Vrací čas startu session. Čas je unix timestamp.

\begin{DoxyReturn}{Returns}
int 
\end{DoxyReturn}


Implements \mbox{\hyperlink{interface_pes_1_1_session_1_1_session_status_handler_interface}{Session\+Status\+Handler\+Interface}}.

\mbox{\Hypertarget{class_pes_1_1_session_1_1_session_status_handler_a0a413f841ff7f4681218eebe9acc847f}\label{class_pes_1_1_session_1_1_session_status_handler_a0a413f841ff7f4681218eebe9acc847f}} 
\index{Pes\+::\+Session\+::\+Session\+Status\+Handler@{Pes\+::\+Session\+::\+Session\+Status\+Handler}!get\+Last\+Start\+Time@{get\+Last\+Start\+Time}}
\index{get\+Last\+Start\+Time@{get\+Last\+Start\+Time}!Pes\+::\+Session\+::\+Session\+Status\+Handler@{Pes\+::\+Session\+::\+Session\+Status\+Handler}}
\subsubsection{\texorpdfstring{get\+Last\+Start\+Time()}{getLastStartTime()}}
{\footnotesize\ttfamily get\+Last\+Start\+Time (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Vrací čas předchozího startu session. Čas je unix timestamp.

\begin{DoxyReturn}{Returns}
int 
\end{DoxyReturn}


Implements \mbox{\hyperlink{interface_pes_1_1_session_1_1_session_status_handler_interface}{Session\+Status\+Handler\+Interface}}.

\mbox{\Hypertarget{class_pes_1_1_session_1_1_session_status_handler_aa053bd6719cc91c4fa951aa9266748aa}\label{class_pes_1_1_session_1_1_session_status_handler_aa053bd6719cc91c4fa951aa9266748aa}} 
\index{Pes\+::\+Session\+::\+Session\+Status\+Handler@{Pes\+::\+Session\+::\+Session\+Status\+Handler}!has\+Fingerprint@{has\+Fingerprint}}
\index{has\+Fingerprint@{has\+Fingerprint}!Pes\+::\+Session\+::\+Session\+Status\+Handler@{Pes\+::\+Session\+::\+Session\+Status\+Handler}}
\subsubsection{\texorpdfstring{has\+Fingerprint()}{hasFingerprint()}}
{\footnotesize\ttfamily has\+Fingerprint (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Metoda slouží k ověřování, že v průběhu trvání sezení klienta nedošlo ke změně aplikace nebo IP adresy.

Na začátku trvání sezení, t.\+j. při prvním instancování session handleru v průběhu sezení, session handler automaticky nastaví otisk a při dalších voláních v průběhu trvání sezení klienta kontroluje shodu otisku. Otisk je založen na jménu aplikace -\/ klienta (H\+T\+T\+P\+\_\+\+U\+S\+E\+R\+\_\+\+A\+G\+E\+NT) a případně horních 16 bbitech IP adresy klienta. Skutečný obsah otisky je dán nastavením parametrů konstruktoru. V konstruktoru je také nastaveno, že session bude automaticky zrušena, pokud dojde ke změně otisku. Tuto volbu lze parametrem konstruktoru změnit a pak kontrolovat otisk touto metodou.

\begin{DoxyReturn}{Returns}
boolean Výsledek kontroly shody otisku, pokud je shodný vrací T\+R\+UE, jinak F\+A\+L\+SE. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{interface_pes_1_1_session_1_1_session_status_handler_interface}{Session\+Status\+Handler\+Interface}}.

\mbox{\Hypertarget{class_pes_1_1_session_1_1_session_status_handler_ad5305cbf1b1f253e8bef4b2c478dacb0}\label{class_pes_1_1_session_1_1_session_status_handler_ad5305cbf1b1f253e8bef4b2c478dacb0}} 
\index{Pes\+::\+Session\+::\+Session\+Status\+Handler@{Pes\+::\+Session\+::\+Session\+Status\+Handler}!is\+New@{is\+New}}
\index{is\+New@{is\+New}!Pes\+::\+Session\+::\+Session\+Status\+Handler@{Pes\+::\+Session\+::\+Session\+Status\+Handler}}
\subsubsection{\texorpdfstring{is\+New()}{isNew()}}
{\footnotesize\ttfamily is\+New (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Vrací T\+R\+UE, pokud session byla nastartována poprvé v průběhu trvání skutečného sezení klienta.

\begin{DoxyReturn}{Returns}
bool 
\end{DoxyReturn}


Implements \mbox{\hyperlink{interface_pes_1_1_session_1_1_session_status_handler_interface}{Session\+Status\+Handler\+Interface}}.

\mbox{\Hypertarget{class_pes_1_1_session_1_1_session_status_handler_a2aff0844db6d9b56e6ba96123e1dd11c}\label{class_pes_1_1_session_1_1_session_status_handler_a2aff0844db6d9b56e6ba96123e1dd11c}} 
\index{Pes\+::\+Session\+::\+Session\+Status\+Handler@{Pes\+::\+Session\+::\+Session\+Status\+Handler}!refresh@{refresh}}
\index{refresh@{refresh}!Pes\+::\+Session\+::\+Session\+Status\+Handler@{Pes\+::\+Session\+::\+Session\+Status\+Handler}}
\subsubsection{\texorpdfstring{refresh()}{refresh()}}
{\footnotesize\ttfamily refresh (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Regeneruje identifikátor session

\begin{DoxyReturn}{Returns}
type 
\end{DoxyReturn}


Implements \mbox{\hyperlink{interface_pes_1_1_session_1_1_session_status_handler_interface}{Session\+Status\+Handler\+Interface}}.

\mbox{\Hypertarget{class_pes_1_1_session_1_1_session_status_handler_a7a2d485c1a1c3c6454a6ca583beefee6}\label{class_pes_1_1_session_1_1_session_status_handler_a7a2d485c1a1c3c6454a6ca583beefee6}} 
\index{Pes\+::\+Session\+::\+Session\+Status\+Handler@{Pes\+::\+Session\+::\+Session\+Status\+Handler}!session\+Finish@{session\+Finish}}
\index{session\+Finish@{session\+Finish}!Pes\+::\+Session\+::\+Session\+Status\+Handler@{Pes\+::\+Session\+::\+Session\+Status\+Handler}}
\subsubsection{\texorpdfstring{session\+Finish()}{sessionFinish()}}
{\footnotesize\ttfamily session\+Finish (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Zapíše data session do úložiště a ukončí fungování session handleru. 

Implements \mbox{\hyperlink{interface_pes_1_1_session_1_1_session_status_handler_interface}{Session\+Status\+Handler\+Interface}}.

\mbox{\Hypertarget{class_pes_1_1_session_1_1_session_status_handler_a3ea6a2c27100f1c8c69a245e16b107e6}\label{class_pes_1_1_session_1_1_session_status_handler_a3ea6a2c27100f1c8c69a245e16b107e6}} 
\index{Pes\+::\+Session\+::\+Session\+Status\+Handler@{Pes\+::\+Session\+::\+Session\+Status\+Handler}!session\+Start@{session\+Start}}
\index{session\+Start@{session\+Start}!Pes\+::\+Session\+::\+Session\+Status\+Handler@{Pes\+::\+Session\+::\+Session\+Status\+Handler}}
\subsubsection{\texorpdfstring{session\+Start()}{sessionStart()}}
{\footnotesize\ttfamily session\+Start (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [final]}, {\ttfamily [protected]}}

P\+R\+O\+T\+E\+C\+T\+ED metoda -\/ Je volána z konstruktoru, pokud není nastavena volaba manual\+Start\+Stop. Jinak je nutné ji zavolat z potomka. Obvykle je tato metodu volána z metody potomka, která zahajuje zpracování session dat -\/ typicky metoda start().

Zahajuje session a nastavuje do dat session položky potřebné pro korektní fungování ostatních metod této abstraktní třídy. Je nutné ji zavolat, jinak nezačne ukládání dat pomocí session handleru.

\begin{DoxyReturn}{Returns}
boolean 
\end{DoxyReturn}
\mbox{\Hypertarget{class_pes_1_1_session_1_1_session_status_handler_aa4c6a0b87c6e47fa6f863eedb300e707}\label{class_pes_1_1_session_1_1_session_status_handler_aa4c6a0b87c6e47fa6f863eedb300e707}} 
\index{Pes\+::\+Session\+::\+Session\+Status\+Handler@{Pes\+::\+Session\+::\+Session\+Status\+Handler}!set@{set}}
\index{set@{set}!Pes\+::\+Session\+::\+Session\+Status\+Handler@{Pes\+::\+Session\+::\+Session\+Status\+Handler}}
\subsubsection{\texorpdfstring{set()}{set()}}
{\footnotesize\ttfamily set (\begin{DoxyParamCaption}\item[{}]{\$name,  }\item[{}]{\$value }\end{DoxyParamCaption})}

Nastaví hodnotu zadanému jménu.


\begin{DoxyParams}[1]{Parameters}
string & {\em \$name} & \\
\hline
string & {\em \$value} & \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{interface_pes_1_1_session_1_1_session_status_handler_interface}{Session\+Status\+Handler\+Interface}}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
C\+:/xampp/htdocs/\+Pes\+Box/\+Pes/src/\+Session/Session\+Status\+Handler.\+php\end{DoxyCompactItemize}
